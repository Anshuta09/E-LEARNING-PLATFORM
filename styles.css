:root{
  --bg:#0b0c10; --panel:#12141a; --text:#eaeef4; --muted:#aab4c3;
  --brand:#6c8cff; --brand-2:#9e7bff; --line:#222633;
  --success:#43d17a; --warn:#ffcc66; --danger:#ff6b6b;
  --radius:14px; --shadow:0 10px 30px rgba(0,0,0,.2);
}
:root.light{
  --bg:#f7f8fb; --panel:#ffffff; --text:#1d2433; --muted:#51607a;
  --brand:#5a6cff; --brand-2:#7a5cff; --line:#e7eaf2;
  --success:#1dbf73; --warn:#e1a500; --danger:#e05d5d;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background:var(--bg); color:var(--text);
  font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
}

.container{width:min(1100px,92%); margin:24px auto; padding-bottom:120px}
.app-header,.app-footer{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px min(1100px,92%); margin:0 auto;
  background:transparent; position:sticky; z-index:50; backdrop-filter:saturate(1.2) blur(6px)
}
.app-header{top:0}
.app-header::after{content:""; position:absolute; left:0; right:0; bottom:-1px; height:1px; background:var(--line); opacity:.7}
.app-footer{bottom:0; border-top:1px solid var(--line); background:linear-gradient(180deg,transparent, rgba(0,0,0,.12))}
.app-footer small{color:var(--muted)}

.brand{font-weight:800; text-decoration:none; color:var(--text); letter-spacing:.3px}
.nav{display:flex; gap:14px; align-items:center}
.nav a{color:var(--muted); text-decoration:none; padding:8px 12px; border-radius:10px}
.nav a.active{color:var(--text); background:linear-gradient(135deg,var(--panel),transparent); border:1px solid var(--line)}
.icon-btn{border:1px solid var(--line); background:var(--panel); color:var(--text); padding:8px 10px; border-radius:10px; cursor:pointer}
.icon-btn:hover{transform:translateY(-1px)}

.hero{margin:18px 0 10px}
h1{font-size:clamp(28px,4vw,40px); margin:0 0 8px}
h2,h3{margin:0 0 10px}
.muted{color:var(--muted)}
.link{color:var(--text); text-decoration:none}
.link:hover{text-decoration:underline; text-decoration-color:var(--brand)}
.controls{display:flex; flex-wrap:wrap; gap:10px; margin:14px 0}
.input{
  padding:12px 14px; border:1px solid var(--line); border-radius:12px;
  background:var(--panel); color:var(--text); outline:none; min-width:180px
}
.input:focus{border-color:var(--brand)}
.btn{
  background:linear-gradient(135deg,var(--brand),var(--brand-2));
  color:white; border:none; border-radius:12px; padding:12px 16px; cursor:pointer; font-weight:600; box-shadow:var(--shadow)
}
.btn:hover{transform:translateY(-1px)}
.btn.ghost{background:transparent; color:var(--text); border:1px solid var(--line); box-shadow:none}

.grid{
  display:grid; gap:16px;
  grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
  align-items:stretch; /* keep cards same height */
}

/* ===== Cards / Course cards ===== */
.card{
  background:var(--panel); border:1px solid var(--line);
  border-radius:var(--radius); padding:16px; box-shadow:var(--shadow)
}
.course-card{
  display:flex; flex-direction:column; height:100%; gap:10px; position:relative; overflow:hidden
}
.course-thumb{aspect-ratio:16/9; border-radius:10px; background:#0f1117; border:1px solid var(--line); overflow:hidden}
.course-thumb img{width:100%; height:100%; object-fit:cover; display:block}

/* New alignment: tags cluster on left, price pinned right */
.course-meta{display:flex; align-items:center; gap:10px; flex-wrap:nowrap}
.tags{display:flex; gap:8px; flex-wrap:wrap; align-items:center; flex:1; min-width:0}
.tag{font-size:12px; padding:6px 10px; border:1px solid var(--line); border-radius:999px; color:var(--muted); white-space:nowrap}
.price{font-weight:800; margin-left:auto; white-space:nowrap}

.course-desc{color:var(--muted); display:-webkit-box; -webkit-box-orient:vertical; -webkit-line-clamp:3; overflow:hidden; min-height:3.6em}
.row{display:flex; align-items:center; gap:10px; flex-wrap:wrap}
.spacer{flex:1} /* pushes actions to bottom for equal visual alignment */

.progress{height:10px; width:100%; background:rgba(255,255,255,0.07); border:1px solid var(--line); border-radius:999px; overflow:hidden}
.progress-bar{height:100%; width:0; background:linear-gradient(90deg,var(--brand),var(--brand-2))}
.progress-legend{display:flex; justify-content:space-between; align-items:center; margin-top:6px; color:var(--muted); font-size:14px}
.progress-wrap{margin-top:8px}

.empty{text-align:center; padding:40px}
.hidden{display:none}

/* ===== Course page ===== */
.course-page{display:grid; grid-template-columns:300px 1fr; gap:16px}
.sticky{position:sticky; top:86px}
.lesson-list{list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:8px; max-height:60vh; overflow:auto}
.lesson{display:flex; gap:10px; align-items:flex-start; padding:10px; border:1px solid var(--line); border-radius:10px; background:rgba(255,255,255,0.03)}
.lesson.done{background:rgba(67,209,122,0.08); border-color:rgba(67,209,122,0.3)}
.lesson .title{font-weight:600}
.lesson .meta{font-size:12px; color:var(--muted)}
.lesson .actions{margin-left:auto; display:flex; gap:8px}
.checkbox{width:18px; height:18px}

.video-wrap{aspect-ratio:16/9; border-radius:14px; overflow:hidden; border:1px solid var(--line); background:#000; margin-bottom:16px}
.video-wrap iframe, .video-wrap video{width:100%; height:100%; display:block}

/* ===== Dashboard ===== */
.dashboard-grid{display:grid; gap:16px; grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}
.stats{margin-top:18px}
.stats-grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:12px}
.stat{padding:16px; border:1px dashed var(--line); border-radius:14px}
.stat h4{margin:0 0 6px}
.stat .big{font-size:28px; font-weight:800}

@media (max-width:900px){
  .course-page{grid-template-columns:1fr}
  .sticky{position:static}
}
